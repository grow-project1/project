@model projeto.Models.Utilizador
@{
    ViewData["Title"] = "Profile";
    var english = Context.Request.Cookies["language"] == "en" || Context.Request.Cookies["language"] == null;
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success" role="alert" style="position: fixed; ...">
        @TempData["SuccessMessage"]
    </div>
    <script>
        setTimeout(...); /* Lógica de fade-out */
    </script>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger" role="alert"
         style="position: fixed;
                top: 90px;
                left: 50%;
                transform: translateX(-50%);
                z-index: 9999;
                padding: 10px 20px;
                border-radius: 5px;
                text-align: center;
                opacity: 1;
                transition: opacity 1s ease-out;">
        @TempData["Error"]
    </div>

    <script>
        setTimeout(function () {
            const alertElement = document.querySelector('.alert-danger');
            if (alertElement) {
                alertElement.style.opacity = '0';
                setTimeout(function () {
                    alertElement.style.display = 'none';
                }, 1000);
            }
        }, 3000);
    </script>
}
<div class="profile">
    <div class="row justify-content-center">
        <div class="col-sm-12 col-md-8 col-lg-6">
            <div class="card shadow-lg border-0 rounded">
                <div class="card-header bg-success text-white text-center py-4">
                    <h3 class="mb-0">@(english ? "Welcome," : "Bem-vindo,") <b>@Model.Nome </b></h3>
                </div>
                <div class="card-body">
                        
                    <h5 class="card-title" style="font-weight: 600; font-size: 1.2rem;">@(english ? "Profile Information" : "Informação do perfil")</h5>    
                    <a href="@Url.Action("Edit", "Utilizadors", new { id = Model.UtilizadorId })" class="btn btn-outline-success btn-custom">
                        <i class="fas fa-edit"></i> @(english ? "Edit Profile" : "Editar perfil")
                    </a>

                    <br />
                    <br />
                    <br />
                    <div class="row mb-4">
                        <div class="col-md-9">
                            <p><strong>Email:</strong> @Model.Email</p>
                            <p><strong>@(english ? "Name:" : "Nome:")</strong> @Model.Nome</p>
                            <p><strong>@(english ? "Address:" : "Morada:")</strong> @Model.Morada</p>
                            <p><strong>@(english ? "Postal Code:" : "Código Postal:")</strong> @Model.CodigoPostal</p>
                            <p><strong>@(english ? "Phone:" : "Telemóvel:")</strong> @Model.Telemovel</p>
                            <p><strong>@(english ? "Country:" : "País:")</strong> @Model.Pais</p>
                            <p><strong>@(english ? "Points:" : "Pontos:")</strong> @Model.Pontos</p>
                        </div>
                        <div class="col-md-3">
                            <img src="@Url.Content(Model.ImagePath)" class="img-fluid rounded-circle" alt="Profile Image" width="150" height="150" />
                            <br />
                            <a href="@Url.Action("EditAvatar", "Utilizadors", new { id = Model.UtilizadorId })" class="btn btn-outline-dark btn-sm mt-2">
                                <i class="fas fa-edit"></i> @(english ? "Edit Avatar" : "Editar Avatar")
                            </a>
                        </div>
                    </div>

                    <div class="btn-group w-110 d-flex justify-content-between mt-4" role="group">
                        <a href="@Url.Action("MyAuctions", "Leilaos", new { id = Model.UtilizadorId })" class="btn-profile flex-grow-1 text-center">
                            @(english ? "My Auctions" : "Meus Leilões")
                        </a>
                        <a href="@Url.Action("MyBids", "Leilaos", new { id = Model.UtilizadorId })" class="btn-profile flex-grow-1 text-center">
                            @(english ? "My Bids" : "Minhas licitações")
                        </a>
                        <a href="@Url.Action("ConfirmPassword", "Utilizadors", new { id = Model.UtilizadorId })" class="btn-profile flex-grow-1 text-center">
                            @(english ? "Change Password" : "Alterar Senha")
                        </a>
                        <button id="cancel-account-btn" class="btn-profile flex-grow-1 text-center cancel-btn">
                            @(english ? "Cancel Account" : "Cancelar Conta")
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
